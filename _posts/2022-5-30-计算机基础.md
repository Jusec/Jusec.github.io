---
layout:     post
title:      12.计算机基础
subtitle:   深度学习
date:       2022-05-30
author:     Mo
header-img: img/post-bg-re-vs-ng2.jpg
catalog: true
tags:
    - 计算机基础 
---

# 操作系统

#### **1.线程和进程的区别？**

**进程：** 是执行中一段程序，即一旦程序被载入到内存中并准备执行，它就是一个进程。进程是表示资源分配的基本概念，又是==调度运行的基本单位==，是系统中的并发执行的单位。进程是一个在[内存](https://so.csdn.net/so/search?q=内存&spm=1001.2101.3001.7020)中运行的应用程序。每个进程都有自己独立的一块内存空间，一个进程可以有多个线程。

进程是程序的一次执行过程，是一个动态概念，是程序在执行过程中分配和管理资源的基本单位，每一个进程都有一个自己的地址空间，至少有 5 种基本状态，它们是：初始态，执行态，等待状态，就绪状态，终止状态。



**线程**： 单个进程中执行中每个任务就是一个线程。==线程是进程中执行运算的最小单位==。

线程是CPU调度和分派的基本单位，它可与同属一个进程的其他的线程共享进程所拥有的全部资源。

一个线程只能属于一个进程，但是一个进程可以拥有多个线程。多线程处理就是允许一个进程中在同一时刻执行多个任务。



**相同点**：进程和线程都有ID/寄存器组、状态和优先权、信息块，创建后都可更改自己的属性，都可与父进程共享资源、都不能直接访问其他无关进程或线程的资源。



**联系**：线程是进程的一部分，一个线程只能属于一个进程，而一个进程可以有多个线程，但至少有一个线程。



**区别：** 

1. 一个程序至少有一个进程,一个进程至少有一个线程

2. 线程的划分尺度小于进程，使得多线程程序的并发性高
2. 另外，进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率
2. 线程在执行过程中与进程还是有区别的。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制 
2. 从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。



**什么时候用线程什么时候进程**

进程与线程的选择取决以下几点：

①需要频繁创建销毁的优先使用线程；因为对进程来说创建和销毁一个进程代价是很大的。

②线程的切换速度快，所以在需要大量计算，切换频繁时用线程，还有耗时的操作使用线程可提高应用程序的响应。

③因为对CPU系统的效率使用上线程更占优，所以可能要发展到==多机分布的用进程==，==多核分布用线程==。

④并行操作时使用线程，如C/S架构的服务器端并发线程响应用户的请求。

⑤需要更==稳定安全==时，适合选择==进程==；需要==速度==时，选择==线程==更好。

#### **2.线程有哪些状态**

5种基本状态，它们是：初始态，执行态，等待状态，就绪状态，终止状态。

#### **3.那进程间通信的方式？线程可以通信吗？**

进程间通信（IPC，InterProcess Communication）是指在不同进程之间传播或交换信息。IPC的方式通常有==管道（包括无名管道和命名管道）、消息队列、信号量、共享存储、Socket、Streams==等。其中 Socket和Streams支持不同主机上的两个进程IPC。



线程通信常用的方式有:wait/notify 等待、Volatile 内存共享、CountDownLatch 并发工具、CyclicBarrier 并发工具

#### **4.多线程多进程**

> 多进程和多线程的主要区别是：1、线程是进程的子集，一个进程可能由多个线程组成；2、多进程的数据是分开的，共享复杂，需要用IPC，但同步简单；3、多线程共享进程数据，共享简单，但同步复杂。

![img](https://s2.loli.net/2022/05/30/t2BydjNm9SbnwZ4.jpg)

| **维度**       | 多进程                                                       | **多线程**                             | 总结     |
| -------------- | :----------------------------------------------------------- | :------------------------------------- | :------- |
| 数据共享、同步 | 数据是分开的，共享复杂，需要用IPC；同步简单                  | 多线程共享进程数据，共享简单；同步复杂 | 各有优势 |
| 内存、CPU      | 占用内存多，切换复杂，CPU利用率低                            | 占用内存少，切换简单，CPU利用率高      | 线程占优 |
| 创建销毁、切换 | 创建销毁、切换复杂，速度慢                                   | 创建销毁、切换简单，速度快             | 线程占优 |
| 编程调试       | 编程简单，调试简单                                           | 编程复杂，调试复杂                     | 进程占优 |
| 可靠性         | 进程间不会相互影响                                           | 一个线程挂掉将导致整个进程挂掉         | 进程占优 |
| 分布式         | 适应于多核、多机分布；如果一台机器不够，扩展到多台机器比较简单 | 适应于多核分布                         | 线程占优 |

#### **5.阻塞与非阻塞**

**同步**：所谓同步，就是在发出一个功能调用时，在没有得到结果之前，该调用就不返回。也就是必须一件一件事做,等前一件做完了才能做下一件事。



例如普通B/S模式（同步）：提交请求->等待服务器处理->处理完毕返回 这个期间客户端浏览器不能干任何事



**异步**：异步的概念和同步相对。当一个异步过程调用发出后，调用者不能立刻得到结果。实际处理这个调用的部件在完成后，通过状态、通知和回调来通知调用者。



例如 ajax请求（异步）: 请求通过事件触发->服务器处理（这是浏览器仍然可以作其他事情）->处理完毕



**阻塞**：阻塞调用是指调用结果返回之前，当前线程会被挂起（线程进入非可执行状态，在这个状态下，cpu不会给线程分配时间片，即线程暂停运行）。函数只有在得到结果之后才会返回。

有人也许会把阻塞调用和同步调用等同起来，实际上他是不同的。对于同步调用来说，很多时候当前线程还是激活的，只是从逻辑上当前函数没有返回,它还会抢占cpu去执行其他逻辑，也会主动检测io是否准备好。



**非阻塞**：非阻塞和阻塞的概念相对应，指在不能立刻得到结果之前，该函数不会阻塞当前线程，而会立刻返回。



> 再简单点理解就是：
>
> 1. 同步，就是我调用一个功能，该功能没有结束前，我死等结果。
> 2. 异步，就是我调用一个功能，不需要知道该功能结果，该功能有结果后通知我（回调通知）
> 3. 阻塞，就是调用我（函数），我（函数）没有接收完数据或者没有得到结果之前，我不会返回。
> 4. 非阻塞，就是调用我（函数），我（函数）立即返回，通过select通知调用者

#### **6.** **五种IO模型**

1). 阻塞I/O（blocking I/O）

2). 非阻塞I/O （nonblocking I/O）

3). I/O复用(select 和poll) （I/O multiplexing）

4). 信号驱动I/O （signal driven I/O (SIGIO)）

5). 异步I/O （asynchronous I/O (the POSIX aio_functions)）



# LINUX

#### **1.Linux的一些常用命令**

①重启reboot

②关机poweroff、shutdown -h now

③查看本机ip信息的名称ifconfig

④vi和vim编辑器

一般模式，插入模式，底行模式

一般模式(通过按I键)-->插入模式  插入模式(按Esc键)--> 一般模式

一般模式（通过按:键）-->底行模式  底行模式(按Esc键)--> 一般模式

底行模式中，wq = write quit 写入并退出

wq! 如果有不能保存退出的情况可以使用wq! ! 强制退出

q! = quit !强制 不写入强制退出

⑤  查看目录下的内容

ls = list

语法：

ls [目录名称]

实例：

ls 查看当前目录下的所有内容

ls /etc 查看etc目录下的所有内容（绝对路径）

目录下的所有文件

ls spring/ 当前目录下存在spring可以使用相对路径查看

ls spring/springmvc

-a 查看目录下所有的文件，包括隐藏文件

-l 以长格式显示目录下的所有文件（显示文件或者目录的详细信息）

ls -l 可以简化为 ll

-t 按更新时间倒叙排序显示目录下的内容

ls -a /etc

ls -l /etc

ls -l -t /etc  等同于 ls -lt /etc

⑥切换目录  cd = change directory

⑦删除文件  rm =remove

#### **2. Linux中grep命令详解**

Linux系统中grep命令是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹 配的行打印出来。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。

grep [options]

主要参数：grep --help可查看

-c：只输出匹配行的计数。

-i：不区分大小写。

-h：查询多文件时不显示文件名。

-l：查询多文件时只输出包含匹配字符的文件名。

-n：显示匹配行及 行号。

-s：不显示不存在或无匹配文本的错误信息。

-v：显示不包含匹配文本的所有行。

--color=auto ：可以将找到的关键词部分加上颜色的显示。

#### **3.按时间顺序打印出文件列表，按文件大小打印文件列表**

ls

按大小排序：[root@localhost ~]# ls -Sh

按时间排序:[root@localhost ~]# ls -rt

#### **4.Linux如何查看某进程关联的相关文件有哪些？**

lsof命令是什么？可以列出被进程所打开的文件的信息。

#### **5.Linux启动的过程**

Linux系统的启动过程并不是大家想象中的那么复杂，其过程可以分为5个阶段：

内核的引导。运行 init。系统初始化。建立终端 。用户登录系统。



**linux如何查看进程**

ps(process status) 命令是 Linux 下最常用的进程查看工具，使用该命令可以确定哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵尸、哪些进程占用了过多的资源等等。

1. **ps aux:** 

a：显示当前终端下的所有进程信息，包括其他用户的进程。

u：使用以用户为主的格式输出进程信息。

x：显示当前用户在所有终端下的进程。

2. **ps -elf:**

-e：显示系统内的所有进程信息。

-l：使用长（long）格式显示进程信息。

-f：使用完整的（full）格式显示进程信息。 

3. **top**

以全屏交互式的界面显示进程排名，及时跟踪包括CPU、内存等系统资源占用情况，默认情况下每三秒刷新一次，其作用基本类似于Windows系统中的任务管理器。

4. **pstree -aup**

-a：显示每个程序的完整指令，包含路径，参数或是常驻服务的标示； 

-c：不使用精简标示法； 

-G：使用VT100终端机的列绘图字符； 

-h：列出树状图时，特别标明现在执行的程序； 

-H<程序识别码>：此参数的效果和指定”-h”参数类似，但特别标明指定的程序； 

-l：采用长列格式显示树状图； 

-n：用程序识别码排序。预设是以程序名称来排序； 

-p：显示程序识别码； 

-u：显示用户名称； 

#### **6.linux查看线程用哪个命令**

1.使用top命令，具体用法是 top –H  加上这个选项，top的每一行就不是显示一个进程，而是一个线程。

2.使用ps命令，具体用法是 ps –xH

这样可以查看所有存在的线程，也可以使用grep作进一步的过滤。

3.使用ps命令，具体用法是 ps -mq PID 这样可以看到指定的进程产生的线程数目。